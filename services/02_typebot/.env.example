# Configuration Typebot
# Copiez ce fichier vers .env et remplissez les valeurs

# ===== BASE DE DONNÉES =====
# Mot de passe PostgreSQL (générer un mot de passe fort)
DB_PASSWORD=CHANGEME_generate_strong_password

# ===== URLS PUBLIQUES =====
# URL du constructeur (builder) - Accessible via Cloudflare Tunnel
NEXTAUTH_URL=https://typebot.example.com

# URL du visualiseur (viewer) - Accessible via Cloudflare Tunnel
NEXT_PUBLIC_VIEWER_URL=https://bot.example.com

# ===== SÉCURITÉ =====
# Clé de chiffrement (32 caractères) - Générer avec: openssl rand -base64 24
ENCRYPTION_SECRET=CHANGEME_openssl_rand_base64_24

# Secret NextAuth (32 caractères) - Générer avec: openssl rand -base64 24
NEXTAUTH_SECRET=CHANGEME_openssl_rand_base64_24

# ===== STOCKAGE S3 (MinIO) =====
# Endpoint MinIO via Cloudflare Tunnel (HTTPS)
S3_ENDPOINT=storage.example.com

# Port HTTPS standard
S3_PORT=443

# Région S3 (us-east-1 par défaut pour MinIO)
S3_REGION=us-east-1

# Clés d'accès S3 (générer des valeurs aléatoires fortes)
S3_ACCESS_KEY=CHANGEME_generate_access_key
S3_SECRET_KEY=CHANGEME_generate_secret_key

# Nom du bucket S3
S3_BUCKET=typebot

# SSL activé (HTTPS via Cloudflare)
S3_SSL_ENABLED=true

# URL publique pour accès depuis le navigateur (avec le bucket)
S3_PUBLIC_CUSTOM_DOMAIN=https://storage.example.com/typebot

# ===== SMTP (OPTIONNEL) =====
# Configuration email pour l'envoi de notifications
SMTP_HOST=smtp.example.com
SMTP_PORT=465
SMTP_USERNAME=username
SMTP_PASSWORD=CHANGEME_smtp_password
SMTP_SECURE=true
SMTP_FROM=noreply@example.com

# ===== AUTHENTIFICATION =====
# Au moins UNE méthode d'authentification est REQUISE
# Créez une OAuth App sur la plateforme choisie et remplissez les identifiants

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitLab OAuth
GITLAB_CLIENT_ID=
GITLAB_CLIENT_SECRET=

# Facebook OAuth
FACEBOOK_CLIENT_ID=
FACEBOOK_CLIENT_SECRET=

# Azure AD OAuth
AZURE_AD_CLIENT_ID=
AZURE_AD_CLIENT_SECRET=
AZURE_AD_TENANT_ID=

# Keycloak OAuth
KEYCLOAK_CLIENT_ID=
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_ISSUER=

# Custom OAuth (OpenID Connect compatible)
CUSTOM_OAUTH_NAME=
CUSTOM_OAUTH_CLIENT_ID=
CUSTOM_OAUTH_CLIENT_SECRET=
CUSTOM_OAUTH_ISSUER=
CUSTOM_OAUTH_WELL_KNOWN_URL=
# Mapping des attributs utilisateur (optionnel)
CUSTOM_OAUTH_USER_ID_PATH=
CUSTOM_OAUTH_USER_NAME_PATH=
CUSTOM_OAUTH_USER_EMAIL_PATH=
CUSTOM_OAUTH_USER_IMAGE_PATH=

# ===== INTÉGRATIONS MÉDIA =====
# API pour les médias dans les chatbots

# Giphy - GIFs animés
GIPHY_API_KEY=

# Unsplash - Images haute qualité
UNSPLASH_ACCESS_KEY=

# Pexels - Photos et vidéos
PEXELS_API_KEY=

# ===== INTÉGRATIONS TIERCES =====
# Google Sheets - Intégration tableur
GOOGLE_SHEETS_CLIENT_ID=
GOOGLE_SHEETS_CLIENT_SECRET=

# Gmail - Envoi d'emails via Gmail
GMAIL_CLIENT_ID=
GMAIL_CLIENT_SECRET=

# WhatsApp Business - Intégration WhatsApp
# Token système généré dans Facebook Business Manager (utilisateurs système)
META_SYSTEM_USER_TOKEN=

# ID du numéro de téléphone WhatsApp Business
WHATSAPP_PREVIEW_FROM_PHONE_NUMBER_ID=

# URL de l'API WhatsApp Cloud
WHATSAPP_CLOUD_API_URL=https://graph.facebook.com

# Nom du template de message (à créer dans Meta → Message Templates)
WHATSAPP_PREVIEW_TEMPLATE_NAME=typebot_preview

# Langue du template (fr, en_US, es, etc.)
WHATSAPP_PREVIEW_TEMPLATE_LANG=fr

# Taille du groupe interactif (max 3 avec API officielle)
WHATSAPP_INTERACTIVE_GROUP_SIZE=3

# ===== ANALYTICS & TRADUCTIONS =====
# PostHog - Analytics produit
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=

# Tolgee - Gestion des traductions
TOLGEE_API_KEY=
TOLGEE_API_URL=

# ===== REDIS (OPTIONNEL) =====
# Redis pour rate limiting et WhatsApp media uploads
# Format: redis://username:password@host:port
REDIS_URL=

# ===== PARTYKIT (OPTIONNEL) =====
# PartyKit pour webhooks avancés
PARTYKIT_HOST=
PARTYKIT_TOKEN=

# ===== VERCEL (OPTIONNEL) =====
# Pour support des domaines personnalisés
NEXT_PUBLIC_VERCEL_VIEWER_PROJECT_NAME=
VERCEL_TOKEN=

# ===== CONFIGURATION AVANCÉE =====
# Désactiver les inscriptions (true = seuls les comptes existants peuvent se connecter)
DISABLE_SIGNUP=false

# Email de l'administrateur (obtient le plan UNLIMITED automatiquement)
ADMIN_EMAIL=admin@example.com

# Plan par défaut pour nouveaux workspaces (FREE/STARTER/PRO/LIFETIME/UNLIMITED)
DEFAULT_WORKSPACE_PLAN=FREE

# Limite de taille d'upload en MB (défaut: 10)
FILE_UPLOAD_MAX_SIZE_MB=10

# Timeout pour l'exécution des APIs en ms (défaut: 10000)
CHAT_API_TIMEOUT=10000

# Mode debug (active les logs détaillés)
DEBUG=false

# ===== WEBHOOKS SYSTÈME (OPTIONNEL) =====
# Webhook appelé lors de la création d'un utilisateur
CREATE_USER_WEBHOOK_URL=

# Webhook pour messages importants système
IMPORTANT_MESSAGE_WEBHOOK_URL=

# Token API pour accès admin
ADMIN_API_TOKEN=

# IDs pour onboarding et préférences
NEXT_PUBLIC_ONBOARDING_TYPEBOT_ID=
NEXT_PUBLIC_RESULTS_TABLE_PREFERENCES_USER_ID=
